@page "/"
@page "/StartUp"
@inject NavigationManager NavigationManager

@code{
    // <AuthorizeRouteView> 组件提供的级联参数，<AuthorizeView> 组件使用此参数确定用户的身份认证状态
    [CascadingParameter]
    private Task<AuthenticationState> authenticationStateTask { get; set; }

    protected async override Task OnInitializedAsync()
    {
        if (authenticationStateTask == null ||
            (!(await authenticationStateTask)?.User?.Identity?.IsAuthenticated ?? false))
        {
            this.NavigationManager.NavigateTo("Login");
            return;
        }

        this.NavigationManager.NavigateTo("Desktop");
    }
}